# Swerve Bookmarklet - Generated Files

## Installation

### Option 1: Drag and Drop (Recommended)
1. Drag this link to your bookmarks bar: [ðŸ“„ Swerve Preview](javascript:(async%20function()%7B'use%20strict'%3Bconst%20SWERVE_CONFIG%3D%7Bendpoint%3A%20'https%3A%2F%2Fservice.example.com%2Fingest'%2Cversion%3A%20'0.2.0'%2Cui%3A%7BmodalId%3A%20'swerve-preview-modal'%2CbackdropId%3A%20'swerve-modal-backdrop'%7D%7D%3Bconst%20CAPTURE_MODES%3D%7BFULL_PAGE%3A%20'full-page'%2CSELECTION%3A%20'selection'%2CTEXT_ONLY%3A%20'text-only'%2CVISIBLE_AREA%3A%20'visible-area'%7D%3Blet%20currentCaptureMode%3DCAPTURE_MODES.FULL_PAGE%3Blet%20capturedData%3Dnull%3Blet%20hiddenElements%3Dnew%20Set()%3Bfunction%20collectPageData(mode%3DCAPTURE_MODES.FULL_PAGE)%7Bconst%20d%3Ddocument%3Bconst%20s%3Dwindow.getSelection%26%26window.getSelection()%3Bconst%20selectionText%3Ds%20%3F%20String(s)%3A%20''%3Bconst%20selectionHtml%3Ds%26%26s.rangeCount%20%3F(()%3D%3E%7Bconst%20r%3Ds.getRangeAt(0)%3Bconst%20f%3Dr.cloneContents()%3Bconst%20e%3Dd.createElement('div')%3Be.appendChild(f)%3Breturn%20e.innerHTML%3B%7D)()%3A%20''%3Blet%20html%3D''%3Blet%20contentText%3D''%3Bswitch(mode)%7Bcase%20CAPTURE_MODES.FULL_PAGE%3A%20html%3Dd.documentElement.outerHTML%3BcontentText%3Dd.body%20%3F%20d.body.innerText%20%3A%20d.documentElement.innerText%3Bbreak%3Bcase%20CAPTURE_MODES.SELECTION%3A%20html%3DselectionHtml%3BcontentText%3DselectionText%3Bbreak%3Bcase%20CAPTURE_MODES.TEXT_ONLY%3A%20html%3D''%3BcontentText%3DextractTextContent()%3Bbreak%3Bcase%20CAPTURE_MODES.VISIBLE_AREA%3A%20html%3DgetVisibleAreaHTML()%3BcontentText%3DgetVisibleAreaText()%3Bbreak%3B%7Dreturn%7Bversion%3A%20'0'%2Cpage%3A%7Burl%3A%20location.href%2Ctitle%3A%20d.title%7C%7Cnull%2Creferrer%3A%20d.referrer%7C%7Cdocument.referrer%7C%7Cnull%2CuserAgent%3A%20navigator.userAgent%2Cviewport%3A%7Bwidth%3A%20window.innerWidth%2Cheight%3A%20window.innerHeight%7D%2Cscroll%3A%7Bx%3A%20window.scrollX%2Cy%3A%20window.scrollY%7D%7D%2Csnapshot%3A%7Bhtml%3A%20html%2CselectionText%3A%20selectionText%2CselectionHtml%3A%20selectionHtml%2CtextContent%3A%20contentText%2CcapturedAt%3A%20new%20Date().toISOString()%2CcaptureMode%3A%20mode%2ChiddenElements%3A%20Array.from(hiddenElements)%7D%2Ctransfer%3A%7Bencoding%3A%20'plain'%2Cchunk%3A%7Bindex%3A%200%2Ccount%3A%201%7D%7D%2Cclient%3A%7BbookmarkletVersion%3A%20SWERVE_CONFIG.version%2Clanguage%3A%20navigator.language%7D%7D%3B%7Dfunction%20extractTextContent()%7Bconst%20content%3Ddocument.body%20%3F%20document.body.innerText%20%3A%20document.documentElement.innerText%3Breturn%20content.replace(%2F%5Cs%2B%2Fg%2C'%20').trim()%3B%7Dfunction%20getVisibleAreaHTML()%7Bconst%20viewport%3D%7Btop%3A%20window.scrollY%2Cleft%3A%20window.scrollX%2Cbottom%3A%20window.scrollY%2Bwindow.innerHeight%2Cright%3A%20window.scrollX%2Bwindow.innerWidth%7D%3Bconst%20elements%3D%5B%5D%3Bconst%20walker%3Ddocument.createTreeWalker(document.body%7C%7Cdocument.documentElement%2CNodeFilter.SHOW_ELEMENT%2C%7BacceptNode%3A%20function(node)%7Bconst%20rect%3Dnode.getBoundingClientRect()%3Bconst%20absRect%3D%7Btop%3A%20rect.top%2Bwindow.scrollY%2Cleft%3A%20rect.left%2Bwindow.scrollX%2Cbottom%3A%20rect.bottom%2Bwindow.scrollY%2Cright%3A%20rect.right%2Bwindow.scrollX%7D%3Bif(absRect.bottom%3E%3Dviewport.top%26%26absRect.top%3C%3Dviewport.bottom%26%26absRect.right%3E%3Dviewport.left%26%26absRect.left%3C%3Dviewport.right)%7Breturn%20NodeFilter.FILTER_ACCEPT%3B%7Dreturn%20NodeFilter.FILTER_REJECT%3B%7D%7D)%3Blet%20node%3Bwhile(node%3Dwalker.nextNode())%7Belements.push(node)%3B%7Dconst%20container%3Ddocument.createElement('div')%3Belements.forEach(el%3D%3E%7Bconst%20clone%3Del.cloneNode(true)%3Bcontainer.appendChild(clone)%3B%7D)%3Breturn%20container.innerHTML%3B%7Dfunction%20getVisibleAreaText()%7Bconst%20visibleHTML%3DgetVisibleAreaHTML()%3Bconst%20temp%3Ddocument.createElement('div')%3Btemp.innerHTML%3DvisibleHTML%3Breturn%20temp.innerText%7C%7Ctemp.textContent%7C%7C''%3B%7Dfunction%20createPreviewModal()%7BremovePreviewModal()%3Bconst%20backdrop%3Ddocument.createElement('div')%3Bbackdrop.id%3DSWERVE_CONFIG.ui.backdropId%3Bbackdrop.style.cssText%3D%60%20position%3A%20fixed%3Btop%3A%200%3Bleft%3A%200%3Bwidth%3A%20100%25%3Bheight%3A%20100%25%3Bbackground%3A%20rgba(0%2C0%2C0%2C0.5)%3Bz-index%3A%20999999%3Bdisplay%3A%20flex%3Balign-items%3A%20center%3Bjustify-content%3A%20center%3B%60%3Bconst%20modal%3Ddocument.createElement('div')%3Bmodal.id%3DSWERVE_CONFIG.ui.modalId%3Bmodal.style.cssText%3D%60%20background%3A%20white%3Bborder-radius%3A%208px%3Bbox-shadow%3A%200%204px%2024px%20rgba(0%2C0%2C0%2C0.25)%3Bwidth%3A%2090%25%3Bmax-width%3A%20800px%3Bmax-height%3A%2090%25%3Boverflow%3A%20hidden%3Bfont-family%3A-apple-system%2CBlinkMacSystemFont%2C'Segoe%20UI'%2Csystem-ui%2Csans-serif%3Bdisplay%3A%20flex%3Bflex-direction%3A%20column%3B%60%3Bmodal.innerHTML%3D%60%3Cdiv%20style%3D%22padding%3A%2020px%3Bborder-bottom%3A%201px%20solid%20%23e1e5e9%3B%22%3E%3Ch2%20style%3D%22margin%3A%200%200%2016px%200%3Bfont-size%3A%2018px%3Bfont-weight%3A%20600%3Bcolor%3A%20%231a1a1a%3B%22%3E%F0%9F%93%84%20Swerve%20Preview-What%20will%20be%20sent%3F%3C%2Fh2%3E%3Cdiv%20style%3D%22display%3A%20flex%3Bgap%3A%2012px%3Balign-items%3A%20center%3Bflex-wrap%3A%20wrap%3B%22%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.FULL_PAGE%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.FULL_PAGE%20%3F%20'checked'%20%3A%20''%7D%3EFull%20Page%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.SELECTION%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.SELECTION%20%3F%20'checked'%20%3A%20''%7D%3ESelection%20Only%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.TEXT_ONLY%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.TEXT_ONLY%20%3F%20'checked'%20%3A%20''%7D%3EText%20Only%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.VISIBLE_AREA%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.VISIBLE_AREA%20%3F%20'checked'%20%3A%20''%7D%3EVisible%20Area%3C%2Flabel%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22flex%3A%201%3Boverflow-y%3A%20auto%3Bpadding%3A%2020px%3B%22%3E%3Cdiv%20id%3D%22swerve-content-preview%22%20style%3D%22border%3A%201px%20solid%20%23e1e5e9%3Bborder-radius%3A%204px%3Bpadding%3A%2016px%3Bbackground%3A%20%23f8f9fa%3Bfont-size%3A%2013px%3Bline-height%3A%201.5%3Bmax-height%3A%20300px%3Boverflow-y%3A%20auto%3B%22%3ELoading%20preview...%3C%2Fdiv%3E%3Cdiv%20style%3D%22margin-top%3A%2016px%3B%22%3E%3Ch3%20style%3D%22margin%3A%200%200%208px%200%3Bfont-size%3A%2014px%3Bfont-weight%3A%20600%3Bcolor%3A%20%231a1a1a%3B%22%3ERedaction%20Tools%3C%2Fh3%3E%3Cp%20style%3D%22margin%3A%200%200%2012px%200%3Bfont-size%3A%2012px%3Bcolor%3A%20%23666%3B%22%3EClick%20on%20elements%20in%20the%20page%20to%20hide%20them%20from%20capture(experimental)%3C%2Fp%3E%3Cbutton%20id%3D%22swerve-toggle-redaction%22%20style%3D%22padding%3A%206px%2012px%3Bfont-size%3A%2012px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3EEnable%20Element%20Selection%3C%2Fbutton%3E%3Cbutton%20id%3D%22swerve-clear-redactions%22%20style%3D%22padding%3A%206px%2012px%3Bfont-size%3A%2012px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3Bmargin-left%3A%208px%3B%22%3EClear%20All%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22padding%3A%2020px%3Bborder-top%3A%201px%20solid%20%23e1e5e9%3Bdisplay%3A%20flex%3Bgap%3A%2012px%3Bjustify-content%3A%20flex-end%3B%22%3E%3Cbutton%20id%3D%22swerve-cancel%22%20style%3D%22padding%3A%208px%2016px%3Bfont-size%3A%2014px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3ECancel%3C%2Fbutton%3E%3Cbutton%20id%3D%22swerve-send%22%20style%3D%22padding%3A%208px%2016px%3Bfont-size%3A%2014px%3Bborder%3A%20none%3Bbackground%3A%20%230969da%3Bcolor%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3ESend%20to%20Swerve%20%E2%9C%A8%3C%2Fbutton%3E%3C%2Fdiv%3E%60%3Bbackdrop.appendChild(modal)%3Bdocument.body.appendChild(backdrop)%3BsetupModalEventListeners(modal%2Cbackdrop)%3BupdatePreview()%3Breturn%20modal%3B%7Dfunction%20setupModalEventListeners(modal%2Cbackdrop)%7Bconst%20radios%3Dmodal.querySelectorAll('input%5Bname%3D%22captureMode%22%5D')%3Bradios.forEach(radio%3D%3E%7Bradio.addEventListener('change'%2C(e)%3D%3E%7BcurrentCaptureMode%3De.target.value%3BupdatePreview()%3B%7D)%3B%7D)%3Bconst%20toggleRedactionBtn%3Dmodal.querySelector('%23swerve-toggle-redaction')%3Bconst%20clearRedactionsBtn%3Dmodal.querySelector('%23swerve-clear-redactions')%3Blet%20redactionMode%3Dfalse%3BtoggleRedactionBtn.addEventListener('click'%2C()%3D%3E%7BredactionMode%3D!redactionMode%3BtoggleRedactionBtn.textContent%3DredactionMode%20%3F%20'Disable%20Element%20Selection'%20%3A%20'Enable%20Element%20Selection'%3BtoggleRedactionBtn.style.background%3DredactionMode%20%3F%20'%23fff3cd'%20%3A%20'white'%3Bif(redactionMode)%7BenableRedactionMode()%3B%7Delse%7BdisableRedactionMode()%3B%7D%7D)%3BclearRedactionsBtn.addEventListener('click'%2C()%3D%3E%7BhiddenElements.clear()%3BupdateRedactionStyles()%3BupdatePreview()%3B%7D)%3Bmodal.querySelector('%23swerve-cancel').addEventListener('click'%2C()%3D%3E%7BremovePreviewModal()%3B%7D)%3Bmodal.querySelector('%23swerve-send').addEventListener('click'%2Casync()%3D%3E%7Bawait%20sendCapturedData()%3B%7D)%3Bbackdrop.addEventListener('click'%2C(e)%3D%3E%7Bif(e.target%3D%3D%3Dbackdrop)%7BremovePreviewModal()%3B%7D%7D)%3Bdocument.addEventListener('keydown'%2Cfunction%20escapeHandler(e)%7Bif(e.key%3D%3D%3D'Escape')%7BremovePreviewModal()%3Bdocument.removeEventListener('keydown'%2CescapeHandler)%3B%7D%7D)%3B%7Dfunction%20updatePreview()%7Bconst%20previewElement%3Ddocument.getElementById('swerve-content-preview')%3Bif(!previewElement)return%3Btry%7BcapturedData%3DcollectPageData(currentCaptureMode)%3Blet%20previewContent%3D''%3Bconst%20snapshot%3DcapturedData.snapshot%3Bswitch(currentCaptureMode)%7Bcase%20CAPTURE_MODES.FULL_PAGE%3A%20previewContent%3D%60%3Cstrong%3EPage%20Title%3A%3C%2Fstrong%3E%24%7BcapturedData.page.title%7C%7C'(no%20title)'%7D%3Cbr%3E%3Cstrong%3EURL%3A%3C%2Fstrong%3E%24%7BcapturedData.page.url%7D%3Cbr%3E%3Cstrong%3EContent%20Size%3A%3C%2Fstrong%3E%24%7B(snapshot.html.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cstrong%3EText%20Length%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EHTML%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Ccode%20style%3D%22display%3A%20block%3Bbackground%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bwhite-space%3A%20pre-wrap%3Bfont-size%3A%2011px%3B%22%3E%24%7BescapeHtml(snapshot.html.substring(0%2C500))%7D%24%7Bsnapshot.html.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fcode%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.SELECTION%3A%20previewContent%3D%60%3Cstrong%3ESelected%20Text%3A%3C%2Fstrong%3E%24%7Bsnapshot.selectionText.length%7Dcharacters%3Cbr%3E%3Cstrong%3ESelected%20HTML%3A%3C%2Fstrong%3E%24%7B(snapshot.selectionHtml.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cbr%3E%3Cstrong%3EText%20Preview%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.selectionText%7C%7C'(no%20selection)'%7D%3C%2Fdiv%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.TEXT_ONLY%3A%20previewContent%3D%60%3Cstrong%3EExtracted%20Text%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EText%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.textContent.substring(0%2C500)%7D%24%7Bsnapshot.textContent.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fdiv%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.VISIBLE_AREA%3A%20previewContent%3D%60%3Cstrong%3EVisible%20Area%20Content%3A%3C%2Fstrong%3E%24%7B(snapshot.html.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cstrong%3EText%20Length%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EContent%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.textContent.substring(0%2C500)%7D%24%7Bsnapshot.textContent.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fdiv%3E%60%3Bbreak%3B%7Dif(hiddenElements.size%3E0)%7BpreviewContent%2B%3D%60%3Cbr%3E%3Cstrong%3EHidden%20Elements%3A%3C%2Fstrong%3E%24%7BhiddenElements.size%7Delements%20will%20be%20excluded%60%3B%7DpreviewElement.innerHTML%3DpreviewContent%3B%7Dcatch(error)%7BpreviewElement.innerHTML%3D%60%3Cspan%20style%3D%22color%3A%20red%3B%22%3EError%20generating%20preview%3A%20%24%7Berror.message%7D%3C%2Fspan%3E%60%3B%7D%7Dfunction%20removePreviewModal()%7Bconst%20backdrop%3Ddocument.getElementById(SWERVE_CONFIG.ui.backdropId)%3Bif(backdrop)%7Bbackdrop.remove()%3B%7DdisableRedactionMode()%3BhiddenElements.clear()%3BupdateRedactionStyles()%3B%7Dlet%20redactionClickHandler%3Dnull%3Bfunction%20enableRedactionMode()%7BdisableRedactionMode()%3BredactionClickHandler%3Dfunction(e)%7Be.preventDefault()%3Be.stopPropagation()%3Bconst%20element%3De.target%3Bconst%20selector%3DgenerateSelector(element)%3Bif(hiddenElements.has(selector))%7BhiddenElements.delete(selector)%3Belement.style.outline%3D''%3Belement.style.opacity%3D''%3B%7Delse%7BhiddenElements.add(selector)%3Belement.style.outline%3D'2px%20solid%20red'%3Belement.style.opacity%3D'0.5'%3B%7DupdatePreview()%3B%7D%3Bdocument.addEventListener('click'%2CredactionClickHandler%2Ctrue)%3Bdocument.body.style.cursor%3D'crosshair'%3B%7Dfunction%20disableRedactionMode()%7Bif(redactionClickHandler)%7Bdocument.removeEventListener('click'%2CredactionClickHandler%2Ctrue)%3BredactionClickHandler%3Dnull%3B%7Ddocument.body.style.cursor%3D''%3B%7Dfunction%20generateSelector(element)%7Bif(element.id)%7Breturn%20'%23'%2Belement.id%3B%7Dif(element.className)%7Bconst%20classes%3Delement.className.trim().split(%2F%5Cs%2B%2F)%3Bif(classes.length%3E0%26%26classes%5B0%5D)%7Breturn%20element.tagName.toLowerCase()%2B'.'%2Bclasses%5B0%5D%3B%7D%7Dlet%20path%3D%5B%5D%3Blet%20current%3Delement%3Bwhile(current%26%26current!%3D%3Ddocument.body)%7Blet%20selector%3Dcurrent.tagName.toLowerCase()%3Bif(current.parentNode)%7Bconst%20siblings%3DArray.from(current.parentNode.children)%3Bconst%20index%3Dsiblings.indexOf(current)%3Bif(siblings.length%3E1)%7Bselector%2B%3D%60%3Anth-child(%24%7Bindex%2B1%7D)%60%3B%7D%7Dpath.unshift(selector)%3Bcurrent%3Dcurrent.parentNode%3B%7Dreturn%20path.join('%3E')%3B%7Dfunction%20updateRedactionStyles()%7Bdocument.querySelectorAll('%5Bstyle*%3D%22outline%3A%202px%20solid%20red%22%5D').forEach(el%3D%3E%7Bel.style.outline%3D''%3Bel.style.opacity%3D''%3B%7D)%3BhiddenElements.forEach(selector%3D%3E%7Btry%7Bconst%20element%3Ddocument.querySelector(selector)%3Bif(element)%7Belement.style.outline%3D'2px%20solid%20red'%3Belement.style.opacity%3D'0.5'%3B%7D%7Dcatch(e)%7BhiddenElements.delete(selector)%3B%7D%7D)%3B%7Dasync%20function%20sendCapturedData()%7Bconst%20sendButton%3Ddocument.getElementById('swerve-send')%3Bif(!sendButton)return%3Bconst%20originalText%3DsendButton.textContent%3BsendButton.textContent%3D'Sending...'%3BsendButton.disabled%3Dtrue%3Btry%7Bconst%20response%3Dawait%20fetch(SWERVE_CONFIG.endpoint%2C%7Bmethod%3A%20'POST'%2Cmode%3A%20'cors'%2Ckeepalive%3A%20true%2Cheaders%3A%7B'Content-Type'%3A%20'application%2Fjson'%7D%2Cbody%3A%20JSON.stringify(capturedData)%7D)%3Bif(!response.ok)%7Bthrow%20new%20Error(%60Upload%20failed%3A%20%24%7Bresponse.status%7D%24%7Bresponse.statusText%7D%60)%3B%7Dconst%20result%3Dawait%20response.json()%3BremovePreviewModal()%3BshowToast('Swerve%3A%20Content%20sent%20successfully%20%E2%9C%85'%2C'success')%3Bif(result.trackUrl)%7BsetTimeout(()%3D%3E%7BshowToast(%60Track%20your%20submission%3A%20%24%7Bresult.trackUrl%7D%60%2C'info'%2C5000)%3B%7D%2C1000)%3B%7D%7Dcatch(error)%7Bconsole.error('Swerve%20upload%20error%3A'%2Cerror)%3BsendButton.textContent%3DoriginalText%3BsendButton.disabled%3Dfalse%3BshowToast(%60Swerve%3A%20Failed%20to%20send-%24%7Berror.message%7D%E2%9D%8C%60%2C'error')%3B%7D%7Dfunction%20showToast(message%2Ctype%3D'info'%2Cduration%3D3000)%7Bconst%20toast%3Ddocument.createElement('div')%3Btoast.style.cssText%3D%60%20position%3A%20fixed%3Btop%3A%2020px%3Bright%3A%2020px%3Bpadding%3A%2012px%2016px%3Bborder-radius%3A%206px%3Bfont-family%3A-apple-system%2CBlinkMacSystemFont%2C'Segoe%20UI'%2Csystem-ui%2Csans-serif%3Bfont-size%3A%2014px%3Bfont-weight%3A%20500%3Bcolor%3A%20white%3Bz-index%3A%201000000%3Bbox-shadow%3A%200%204px%2012px%20rgba(0%2C0%2C0%2C0.15)%3Bmax-width%3A%20400px%3Bword-wrap%3A%20break-word%3Banimation%3A%20slideIn%200.3s%20ease-out%3B%60%3Bconst%20colors%3D%7Bsuccess%3A%20'%2328a745'%2Cerror%3A%20'%23dc3545'%2Cinfo%3A%20'%230969da'%7D%3Btoast.style.background%3Dcolors%5Btype%5D%7C%7Ccolors.info%3Btoast.textContent%3Dmessage%3Bconst%20style%3Ddocument.createElement('style')%3Bstyle.textContent%3D%60%20%40keyframes%20slideIn%7Bfrom%7Btransform%3A%20translateX(100%25)%3Bopacity%3A%200%3B%7Dto%7Btransform%3A%20translateX(0)%3Bopacity%3A%201%3B%7D%7D%60%3Bdocument.head.appendChild(style)%3Bdocument.body.appendChild(toast)%3BsetTimeout(()%3D%3E%7Btoast.style.animation%3D'slideIn%200.3s%20ease-out%20reverse'%3BsetTimeout(()%3D%3E%7Bif(toast.parentNode)%7Btoast.parentNode.removeChild(toast)%3B%7Dif(style.parentNode)%7Bstyle.parentNode.removeChild(style)%3B%7D%7D%2C300)%3B%7D%2Cduration)%3B%7Dfunction%20escapeHtml(text)%7Bconst%20div%3Ddocument.createElement('div')%3Bdiv.textContent%3Dtext%3Breturn%20div.innerHTML%3B%7Dtry%7Bif(document.getElementById(SWERVE_CONFIG.ui.modalId))%7BshowToast('Swerve%20preview%20is%20already%20open!'%2C'info')%3Breturn%3B%7DcreatePreviewModal()%3B%7Dcatch(error)%7Bconsole.error('Swerve%20error%3A'%2Cerror)%3BshowToast(%60Swerve%3A%20Error-%24%7Berror.message%7D%E2%9D%8C%60%2C'error')%3B%7D%7D)()%3B)

### Option 2: Manual Installation
1. Create a new bookmark
2. Name it "Swerve Preview" 
3. Copy and paste this URL:
```
javascript:(async%20function()%7B'use%20strict'%3Bconst%20SWERVE_CONFIG%3D%7Bendpoint%3A%20'https%3A%2F%2Fservice.example.com%2Fingest'%2Cversion%3A%20'0.2.0'%2Cui%3A%7BmodalId%3A%20'swerve-preview-modal'%2CbackdropId%3A%20'swerve-modal-backdrop'%7D%7D%3Bconst%20CAPTURE_MODES%3D%7BFULL_PAGE%3A%20'full-page'%2CSELECTION%3A%20'selection'%2CTEXT_ONLY%3A%20'text-only'%2CVISIBLE_AREA%3A%20'visible-area'%7D%3Blet%20currentCaptureMode%3DCAPTURE_MODES.FULL_PAGE%3Blet%20capturedData%3Dnull%3Blet%20hiddenElements%3Dnew%20Set()%3Bfunction%20collectPageData(mode%3DCAPTURE_MODES.FULL_PAGE)%7Bconst%20d%3Ddocument%3Bconst%20s%3Dwindow.getSelection%26%26window.getSelection()%3Bconst%20selectionText%3Ds%20%3F%20String(s)%3A%20''%3Bconst%20selectionHtml%3Ds%26%26s.rangeCount%20%3F(()%3D%3E%7Bconst%20r%3Ds.getRangeAt(0)%3Bconst%20f%3Dr.cloneContents()%3Bconst%20e%3Dd.createElement('div')%3Be.appendChild(f)%3Breturn%20e.innerHTML%3B%7D)()%3A%20''%3Blet%20html%3D''%3Blet%20contentText%3D''%3Bswitch(mode)%7Bcase%20CAPTURE_MODES.FULL_PAGE%3A%20html%3Dd.documentElement.outerHTML%3BcontentText%3Dd.body%20%3F%20d.body.innerText%20%3A%20d.documentElement.innerText%3Bbreak%3Bcase%20CAPTURE_MODES.SELECTION%3A%20html%3DselectionHtml%3BcontentText%3DselectionText%3Bbreak%3Bcase%20CAPTURE_MODES.TEXT_ONLY%3A%20html%3D''%3BcontentText%3DextractTextContent()%3Bbreak%3Bcase%20CAPTURE_MODES.VISIBLE_AREA%3A%20html%3DgetVisibleAreaHTML()%3BcontentText%3DgetVisibleAreaText()%3Bbreak%3B%7Dreturn%7Bversion%3A%20'0'%2Cpage%3A%7Burl%3A%20location.href%2Ctitle%3A%20d.title%7C%7Cnull%2Creferrer%3A%20d.referrer%7C%7Cdocument.referrer%7C%7Cnull%2CuserAgent%3A%20navigator.userAgent%2Cviewport%3A%7Bwidth%3A%20window.innerWidth%2Cheight%3A%20window.innerHeight%7D%2Cscroll%3A%7Bx%3A%20window.scrollX%2Cy%3A%20window.scrollY%7D%7D%2Csnapshot%3A%7Bhtml%3A%20html%2CselectionText%3A%20selectionText%2CselectionHtml%3A%20selectionHtml%2CtextContent%3A%20contentText%2CcapturedAt%3A%20new%20Date().toISOString()%2CcaptureMode%3A%20mode%2ChiddenElements%3A%20Array.from(hiddenElements)%7D%2Ctransfer%3A%7Bencoding%3A%20'plain'%2Cchunk%3A%7Bindex%3A%200%2Ccount%3A%201%7D%7D%2Cclient%3A%7BbookmarkletVersion%3A%20SWERVE_CONFIG.version%2Clanguage%3A%20navigator.language%7D%7D%3B%7Dfunction%20extractTextContent()%7Bconst%20content%3Ddocument.body%20%3F%20document.body.innerText%20%3A%20document.documentElement.innerText%3Breturn%20content.replace(%2F%5Cs%2B%2Fg%2C'%20').trim()%3B%7Dfunction%20getVisibleAreaHTML()%7Bconst%20viewport%3D%7Btop%3A%20window.scrollY%2Cleft%3A%20window.scrollX%2Cbottom%3A%20window.scrollY%2Bwindow.innerHeight%2Cright%3A%20window.scrollX%2Bwindow.innerWidth%7D%3Bconst%20elements%3D%5B%5D%3Bconst%20walker%3Ddocument.createTreeWalker(document.body%7C%7Cdocument.documentElement%2CNodeFilter.SHOW_ELEMENT%2C%7BacceptNode%3A%20function(node)%7Bconst%20rect%3Dnode.getBoundingClientRect()%3Bconst%20absRect%3D%7Btop%3A%20rect.top%2Bwindow.scrollY%2Cleft%3A%20rect.left%2Bwindow.scrollX%2Cbottom%3A%20rect.bottom%2Bwindow.scrollY%2Cright%3A%20rect.right%2Bwindow.scrollX%7D%3Bif(absRect.bottom%3E%3Dviewport.top%26%26absRect.top%3C%3Dviewport.bottom%26%26absRect.right%3E%3Dviewport.left%26%26absRect.left%3C%3Dviewport.right)%7Breturn%20NodeFilter.FILTER_ACCEPT%3B%7Dreturn%20NodeFilter.FILTER_REJECT%3B%7D%7D)%3Blet%20node%3Bwhile(node%3Dwalker.nextNode())%7Belements.push(node)%3B%7Dconst%20container%3Ddocument.createElement('div')%3Belements.forEach(el%3D%3E%7Bconst%20clone%3Del.cloneNode(true)%3Bcontainer.appendChild(clone)%3B%7D)%3Breturn%20container.innerHTML%3B%7Dfunction%20getVisibleAreaText()%7Bconst%20visibleHTML%3DgetVisibleAreaHTML()%3Bconst%20temp%3Ddocument.createElement('div')%3Btemp.innerHTML%3DvisibleHTML%3Breturn%20temp.innerText%7C%7Ctemp.textContent%7C%7C''%3B%7Dfunction%20createPreviewModal()%7BremovePreviewModal()%3Bconst%20backdrop%3Ddocument.createElement('div')%3Bbackdrop.id%3DSWERVE_CONFIG.ui.backdropId%3Bbackdrop.style.cssText%3D%60%20position%3A%20fixed%3Btop%3A%200%3Bleft%3A%200%3Bwidth%3A%20100%25%3Bheight%3A%20100%25%3Bbackground%3A%20rgba(0%2C0%2C0%2C0.5)%3Bz-index%3A%20999999%3Bdisplay%3A%20flex%3Balign-items%3A%20center%3Bjustify-content%3A%20center%3B%60%3Bconst%20modal%3Ddocument.createElement('div')%3Bmodal.id%3DSWERVE_CONFIG.ui.modalId%3Bmodal.style.cssText%3D%60%20background%3A%20white%3Bborder-radius%3A%208px%3Bbox-shadow%3A%200%204px%2024px%20rgba(0%2C0%2C0%2C0.25)%3Bwidth%3A%2090%25%3Bmax-width%3A%20800px%3Bmax-height%3A%2090%25%3Boverflow%3A%20hidden%3Bfont-family%3A-apple-system%2CBlinkMacSystemFont%2C'Segoe%20UI'%2Csystem-ui%2Csans-serif%3Bdisplay%3A%20flex%3Bflex-direction%3A%20column%3B%60%3Bmodal.innerHTML%3D%60%3Cdiv%20style%3D%22padding%3A%2020px%3Bborder-bottom%3A%201px%20solid%20%23e1e5e9%3B%22%3E%3Ch2%20style%3D%22margin%3A%200%200%2016px%200%3Bfont-size%3A%2018px%3Bfont-weight%3A%20600%3Bcolor%3A%20%231a1a1a%3B%22%3E%F0%9F%93%84%20Swerve%20Preview-What%20will%20be%20sent%3F%3C%2Fh2%3E%3Cdiv%20style%3D%22display%3A%20flex%3Bgap%3A%2012px%3Balign-items%3A%20center%3Bflex-wrap%3A%20wrap%3B%22%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.FULL_PAGE%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.FULL_PAGE%20%3F%20'checked'%20%3A%20''%7D%3EFull%20Page%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.SELECTION%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.SELECTION%20%3F%20'checked'%20%3A%20''%7D%3ESelection%20Only%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.TEXT_ONLY%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.TEXT_ONLY%20%3F%20'checked'%20%3A%20''%7D%3EText%20Only%3C%2Flabel%3E%3Clabel%20style%3D%22display%3A%20flex%3Balign-items%3A%20center%3Bgap%3A%204px%3Bfont-size%3A%2014px%3B%22%3E%3Cinput%20type%3D%22radio%22%20name%3D%22captureMode%22%20value%3D%22%24%7BCAPTURE_MODES.VISIBLE_AREA%7D%22%20%24%7BcurrentCaptureMode%3D%3D%3DCAPTURE_MODES.VISIBLE_AREA%20%3F%20'checked'%20%3A%20''%7D%3EVisible%20Area%3C%2Flabel%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22flex%3A%201%3Boverflow-y%3A%20auto%3Bpadding%3A%2020px%3B%22%3E%3Cdiv%20id%3D%22swerve-content-preview%22%20style%3D%22border%3A%201px%20solid%20%23e1e5e9%3Bborder-radius%3A%204px%3Bpadding%3A%2016px%3Bbackground%3A%20%23f8f9fa%3Bfont-size%3A%2013px%3Bline-height%3A%201.5%3Bmax-height%3A%20300px%3Boverflow-y%3A%20auto%3B%22%3ELoading%20preview...%3C%2Fdiv%3E%3Cdiv%20style%3D%22margin-top%3A%2016px%3B%22%3E%3Ch3%20style%3D%22margin%3A%200%200%208px%200%3Bfont-size%3A%2014px%3Bfont-weight%3A%20600%3Bcolor%3A%20%231a1a1a%3B%22%3ERedaction%20Tools%3C%2Fh3%3E%3Cp%20style%3D%22margin%3A%200%200%2012px%200%3Bfont-size%3A%2012px%3Bcolor%3A%20%23666%3B%22%3EClick%20on%20elements%20in%20the%20page%20to%20hide%20them%20from%20capture(experimental)%3C%2Fp%3E%3Cbutton%20id%3D%22swerve-toggle-redaction%22%20style%3D%22padding%3A%206px%2012px%3Bfont-size%3A%2012px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3EEnable%20Element%20Selection%3C%2Fbutton%3E%3Cbutton%20id%3D%22swerve-clear-redactions%22%20style%3D%22padding%3A%206px%2012px%3Bfont-size%3A%2012px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3Bmargin-left%3A%208px%3B%22%3EClear%20All%3C%2Fbutton%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22padding%3A%2020px%3Bborder-top%3A%201px%20solid%20%23e1e5e9%3Bdisplay%3A%20flex%3Bgap%3A%2012px%3Bjustify-content%3A%20flex-end%3B%22%3E%3Cbutton%20id%3D%22swerve-cancel%22%20style%3D%22padding%3A%208px%2016px%3Bfont-size%3A%2014px%3Bborder%3A%201px%20solid%20%23d0d7de%3Bbackground%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3ECancel%3C%2Fbutton%3E%3Cbutton%20id%3D%22swerve-send%22%20style%3D%22padding%3A%208px%2016px%3Bfont-size%3A%2014px%3Bborder%3A%20none%3Bbackground%3A%20%230969da%3Bcolor%3A%20white%3Bborder-radius%3A%204px%3Bcursor%3A%20pointer%3B%22%3ESend%20to%20Swerve%20%E2%9C%A8%3C%2Fbutton%3E%3C%2Fdiv%3E%60%3Bbackdrop.appendChild(modal)%3Bdocument.body.appendChild(backdrop)%3BsetupModalEventListeners(modal%2Cbackdrop)%3BupdatePreview()%3Breturn%20modal%3B%7Dfunction%20setupModalEventListeners(modal%2Cbackdrop)%7Bconst%20radios%3Dmodal.querySelectorAll('input%5Bname%3D%22captureMode%22%5D')%3Bradios.forEach(radio%3D%3E%7Bradio.addEventListener('change'%2C(e)%3D%3E%7BcurrentCaptureMode%3De.target.value%3BupdatePreview()%3B%7D)%3B%7D)%3Bconst%20toggleRedactionBtn%3Dmodal.querySelector('%23swerve-toggle-redaction')%3Bconst%20clearRedactionsBtn%3Dmodal.querySelector('%23swerve-clear-redactions')%3Blet%20redactionMode%3Dfalse%3BtoggleRedactionBtn.addEventListener('click'%2C()%3D%3E%7BredactionMode%3D!redactionMode%3BtoggleRedactionBtn.textContent%3DredactionMode%20%3F%20'Disable%20Element%20Selection'%20%3A%20'Enable%20Element%20Selection'%3BtoggleRedactionBtn.style.background%3DredactionMode%20%3F%20'%23fff3cd'%20%3A%20'white'%3Bif(redactionMode)%7BenableRedactionMode()%3B%7Delse%7BdisableRedactionMode()%3B%7D%7D)%3BclearRedactionsBtn.addEventListener('click'%2C()%3D%3E%7BhiddenElements.clear()%3BupdateRedactionStyles()%3BupdatePreview()%3B%7D)%3Bmodal.querySelector('%23swerve-cancel').addEventListener('click'%2C()%3D%3E%7BremovePreviewModal()%3B%7D)%3Bmodal.querySelector('%23swerve-send').addEventListener('click'%2Casync()%3D%3E%7Bawait%20sendCapturedData()%3B%7D)%3Bbackdrop.addEventListener('click'%2C(e)%3D%3E%7Bif(e.target%3D%3D%3Dbackdrop)%7BremovePreviewModal()%3B%7D%7D)%3Bdocument.addEventListener('keydown'%2Cfunction%20escapeHandler(e)%7Bif(e.key%3D%3D%3D'Escape')%7BremovePreviewModal()%3Bdocument.removeEventListener('keydown'%2CescapeHandler)%3B%7D%7D)%3B%7Dfunction%20updatePreview()%7Bconst%20previewElement%3Ddocument.getElementById('swerve-content-preview')%3Bif(!previewElement)return%3Btry%7BcapturedData%3DcollectPageData(currentCaptureMode)%3Blet%20previewContent%3D''%3Bconst%20snapshot%3DcapturedData.snapshot%3Bswitch(currentCaptureMode)%7Bcase%20CAPTURE_MODES.FULL_PAGE%3A%20previewContent%3D%60%3Cstrong%3EPage%20Title%3A%3C%2Fstrong%3E%24%7BcapturedData.page.title%7C%7C'(no%20title)'%7D%3Cbr%3E%3Cstrong%3EURL%3A%3C%2Fstrong%3E%24%7BcapturedData.page.url%7D%3Cbr%3E%3Cstrong%3EContent%20Size%3A%3C%2Fstrong%3E%24%7B(snapshot.html.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cstrong%3EText%20Length%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EHTML%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Ccode%20style%3D%22display%3A%20block%3Bbackground%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bwhite-space%3A%20pre-wrap%3Bfont-size%3A%2011px%3B%22%3E%24%7BescapeHtml(snapshot.html.substring(0%2C500))%7D%24%7Bsnapshot.html.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fcode%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.SELECTION%3A%20previewContent%3D%60%3Cstrong%3ESelected%20Text%3A%3C%2Fstrong%3E%24%7Bsnapshot.selectionText.length%7Dcharacters%3Cbr%3E%3Cstrong%3ESelected%20HTML%3A%3C%2Fstrong%3E%24%7B(snapshot.selectionHtml.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cbr%3E%3Cstrong%3EText%20Preview%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.selectionText%7C%7C'(no%20selection)'%7D%3C%2Fdiv%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.TEXT_ONLY%3A%20previewContent%3D%60%3Cstrong%3EExtracted%20Text%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EText%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.textContent.substring(0%2C500)%7D%24%7Bsnapshot.textContent.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fdiv%3E%60%3Bbreak%3Bcase%20CAPTURE_MODES.VISIBLE_AREA%3A%20previewContent%3D%60%3Cstrong%3EVisible%20Area%20Content%3A%3C%2Fstrong%3E%24%7B(snapshot.html.length%2F1024).toFixed(1)%7DKB%3Cbr%3E%3Cstrong%3EText%20Length%3A%3C%2Fstrong%3E%24%7Bsnapshot.textContent.length%7Dcharacters%3Cbr%3E%3Cbr%3E%3Cstrong%3EContent%20Preview(first%20500%20chars)%3A%3C%2Fstrong%3E%3Cbr%3E%3Cdiv%20style%3D%22background%3A%20white%3Bpadding%3A%208px%3Bborder-radius%3A%203px%3Bmax-height%3A%20200px%3Boverflow-y%3A%20auto%3B%22%3E%24%7Bsnapshot.textContent.substring(0%2C500)%7D%24%7Bsnapshot.textContent.length%3E500%20%3F%20'...'%20%3A%20''%7D%3C%2Fdiv%3E%60%3Bbreak%3B%7Dif(hiddenElements.size%3E0)%7BpreviewContent%2B%3D%60%3Cbr%3E%3Cstrong%3EHidden%20Elements%3A%3C%2Fstrong%3E%24%7BhiddenElements.size%7Delements%20will%20be%20excluded%60%3B%7DpreviewElement.innerHTML%3DpreviewContent%3B%7Dcatch(error)%7BpreviewElement.innerHTML%3D%60%3Cspan%20style%3D%22color%3A%20red%3B%22%3EError%20generating%20preview%3A%20%24%7Berror.message%7D%3C%2Fspan%3E%60%3B%7D%7Dfunction%20removePreviewModal()%7Bconst%20backdrop%3Ddocument.getElementById(SWERVE_CONFIG.ui.backdropId)%3Bif(backdrop)%7Bbackdrop.remove()%3B%7DdisableRedactionMode()%3BhiddenElements.clear()%3BupdateRedactionStyles()%3B%7Dlet%20redactionClickHandler%3Dnull%3Bfunction%20enableRedactionMode()%7BdisableRedactionMode()%3BredactionClickHandler%3Dfunction(e)%7Be.preventDefault()%3Be.stopPropagation()%3Bconst%20element%3De.target%3Bconst%20selector%3DgenerateSelector(element)%3Bif(hiddenElements.has(selector))%7BhiddenElements.delete(selector)%3Belement.style.outline%3D''%3Belement.style.opacity%3D''%3B%7Delse%7BhiddenElements.add(selector)%3Belement.style.outline%3D'2px%20solid%20red'%3Belement.style.opacity%3D'0.5'%3B%7DupdatePreview()%3B%7D%3Bdocument.addEventListener('click'%2CredactionClickHandler%2Ctrue)%3Bdocument.body.style.cursor%3D'crosshair'%3B%7Dfunction%20disableRedactionMode()%7Bif(redactionClickHandler)%7Bdocument.removeEventListener('click'%2CredactionClickHandler%2Ctrue)%3BredactionClickHandler%3Dnull%3B%7Ddocument.body.style.cursor%3D''%3B%7Dfunction%20generateSelector(element)%7Bif(element.id)%7Breturn%20'%23'%2Belement.id%3B%7Dif(element.className)%7Bconst%20classes%3Delement.className.trim().split(%2F%5Cs%2B%2F)%3Bif(classes.length%3E0%26%26classes%5B0%5D)%7Breturn%20element.tagName.toLowerCase()%2B'.'%2Bclasses%5B0%5D%3B%7D%7Dlet%20path%3D%5B%5D%3Blet%20current%3Delement%3Bwhile(current%26%26current!%3D%3Ddocument.body)%7Blet%20selector%3Dcurrent.tagName.toLowerCase()%3Bif(current.parentNode)%7Bconst%20siblings%3DArray.from(current.parentNode.children)%3Bconst%20index%3Dsiblings.indexOf(current)%3Bif(siblings.length%3E1)%7Bselector%2B%3D%60%3Anth-child(%24%7Bindex%2B1%7D)%60%3B%7D%7Dpath.unshift(selector)%3Bcurrent%3Dcurrent.parentNode%3B%7Dreturn%20path.join('%3E')%3B%7Dfunction%20updateRedactionStyles()%7Bdocument.querySelectorAll('%5Bstyle*%3D%22outline%3A%202px%20solid%20red%22%5D').forEach(el%3D%3E%7Bel.style.outline%3D''%3Bel.style.opacity%3D''%3B%7D)%3BhiddenElements.forEach(selector%3D%3E%7Btry%7Bconst%20element%3Ddocument.querySelector(selector)%3Bif(element)%7Belement.style.outline%3D'2px%20solid%20red'%3Belement.style.opacity%3D'0.5'%3B%7D%7Dcatch(e)%7BhiddenElements.delete(selector)%3B%7D%7D)%3B%7Dasync%20function%20sendCapturedData()%7Bconst%20sendButton%3Ddocument.getElementById('swerve-send')%3Bif(!sendButton)return%3Bconst%20originalText%3DsendButton.textContent%3BsendButton.textContent%3D'Sending...'%3BsendButton.disabled%3Dtrue%3Btry%7Bconst%20response%3Dawait%20fetch(SWERVE_CONFIG.endpoint%2C%7Bmethod%3A%20'POST'%2Cmode%3A%20'cors'%2Ckeepalive%3A%20true%2Cheaders%3A%7B'Content-Type'%3A%20'application%2Fjson'%7D%2Cbody%3A%20JSON.stringify(capturedData)%7D)%3Bif(!response.ok)%7Bthrow%20new%20Error(%60Upload%20failed%3A%20%24%7Bresponse.status%7D%24%7Bresponse.statusText%7D%60)%3B%7Dconst%20result%3Dawait%20response.json()%3BremovePreviewModal()%3BshowToast('Swerve%3A%20Content%20sent%20successfully%20%E2%9C%85'%2C'success')%3Bif(result.trackUrl)%7BsetTimeout(()%3D%3E%7BshowToast(%60Track%20your%20submission%3A%20%24%7Bresult.trackUrl%7D%60%2C'info'%2C5000)%3B%7D%2C1000)%3B%7D%7Dcatch(error)%7Bconsole.error('Swerve%20upload%20error%3A'%2Cerror)%3BsendButton.textContent%3DoriginalText%3BsendButton.disabled%3Dfalse%3BshowToast(%60Swerve%3A%20Failed%20to%20send-%24%7Berror.message%7D%E2%9D%8C%60%2C'error')%3B%7D%7Dfunction%20showToast(message%2Ctype%3D'info'%2Cduration%3D3000)%7Bconst%20toast%3Ddocument.createElement('div')%3Btoast.style.cssText%3D%60%20position%3A%20fixed%3Btop%3A%2020px%3Bright%3A%2020px%3Bpadding%3A%2012px%2016px%3Bborder-radius%3A%206px%3Bfont-family%3A-apple-system%2CBlinkMacSystemFont%2C'Segoe%20UI'%2Csystem-ui%2Csans-serif%3Bfont-size%3A%2014px%3Bfont-weight%3A%20500%3Bcolor%3A%20white%3Bz-index%3A%201000000%3Bbox-shadow%3A%200%204px%2012px%20rgba(0%2C0%2C0%2C0.15)%3Bmax-width%3A%20400px%3Bword-wrap%3A%20break-word%3Banimation%3A%20slideIn%200.3s%20ease-out%3B%60%3Bconst%20colors%3D%7Bsuccess%3A%20'%2328a745'%2Cerror%3A%20'%23dc3545'%2Cinfo%3A%20'%230969da'%7D%3Btoast.style.background%3Dcolors%5Btype%5D%7C%7Ccolors.info%3Btoast.textContent%3Dmessage%3Bconst%20style%3Ddocument.createElement('style')%3Bstyle.textContent%3D%60%20%40keyframes%20slideIn%7Bfrom%7Btransform%3A%20translateX(100%25)%3Bopacity%3A%200%3B%7Dto%7Btransform%3A%20translateX(0)%3Bopacity%3A%201%3B%7D%7D%60%3Bdocument.head.appendChild(style)%3Bdocument.body.appendChild(toast)%3BsetTimeout(()%3D%3E%7Btoast.style.animation%3D'slideIn%200.3s%20ease-out%20reverse'%3BsetTimeout(()%3D%3E%7Bif(toast.parentNode)%7Btoast.parentNode.removeChild(toast)%3B%7Dif(style.parentNode)%7Bstyle.parentNode.removeChild(style)%3B%7D%7D%2C300)%3B%7D%2Cduration)%3B%7Dfunction%20escapeHtml(text)%7Bconst%20div%3Ddocument.createElement('div')%3Bdiv.textContent%3Dtext%3Breturn%20div.innerHTML%3B%7Dtry%7Bif(document.getElementById(SWERVE_CONFIG.ui.modalId))%7BshowToast('Swerve%20preview%20is%20already%20open!'%2C'info')%3Breturn%3B%7DcreatePreviewModal()%3B%7Dcatch(error)%7Bconsole.error('Swerve%20error%3A'%2Cerror)%3BshowToast(%60Swerve%3A%20Error-%24%7Berror.message%7D%E2%9D%8C%60%2C'error')%3B%7D%7D)()%3B
```

## Usage

1. Navigate to any webpage
2. Click the "Swerve Preview" bookmark
3. Review the content preview and select capture mode
4. Use redaction tools to hide sensitive elements
5. Click "Send to Swerve" to transmit the data

## File Sizes
- Original: 22.6 KB
- Minified: 14 KB
- Bookmarklet URL: 18.1 KB

## Configuration

To use with your own endpoint, replace `https://service.example.com/ingest` in the source file before building.
